{"ast":null,"code":"var _jsxFileName = \"/home/rodrigo/rodrigoDeSouzaFernandes/projetos-pessoais/processo-seletivo-moodar/src/components/Board/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { getMatrixPosition, toLetter } from '../../utils/convert';\nimport resolveTour from '../../utils/resolveTour';\nimport { BoardBody, Square, Line, Knight, Move, Movements, Body } from './styled';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Board() {\n  _s();\n\n  const makeBoard = Array(8).fill(Array(8).fill({\n    visited: false,\n    knight: false,\n    content: ''\n  }));\n  const [board, setBoard] = useState(makeBoard);\n  const [initialPosition, setInitialPosition] = useState({\n    line: 0,\n    column: 0\n  });\n  const [movements, setMovements] = useState([]);\n\n  const setKnight = (square, content = '') => {\n    const [line, column] = square.split('-').map(Number);\n    console.log(content);\n    const newBoard = board.map((row, l) => row.map((col, c) => {\n      if (l == line && column == c) {\n        console.log('dentro do if', 'casa', c, l);\n        return {\n          knight: true,\n          visited: true,\n          content\n        };\n      }\n\n      return { ...col,\n        knight: false\n      };\n    }));\n    setInitialPosition({\n      line,\n      column\n    });\n    setBoard(newBoard);\n  };\n\n  const play = ({\n    line,\n    column\n  }) => {\n    const initSquare = `${toLetter(column)}${line + 1}`;\n    const squares = resolveTour(initSquare);\n    const result = squares.map(getMatrixPosition);\n    console.log(result);\n    let count = 0;\n    const abc = [];\n\n    const moveKnight = () => {\n      setKnight(result[count], count + 1);\n      abc.push({\n        moveNumber: count + 1,\n        square: squares[count]\n      });\n      setMovements(abc);\n      if (count === result.length - 1) clearInterval(myInterval);else count += 1;\n    };\n\n    const myInterval = setInterval(moveKnight, 500);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Body, {\n    children: [/*#__PURE__*/_jsxDEV(BoardBody, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: Array(8).fill('').map((_e, i) => /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\" \", i, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 45\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), board.map((line, l) => /*#__PURE__*/_jsxDEV(Line, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: l + 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), line.map(({\n          knight,\n          content\n        }, c) => !knight ? /*#__PURE__*/_jsxDEV(Square, {\n          id: `${l}-${c}`,\n          onClick: ({\n            target: {\n              id\n            }\n          }) => setKnight(id),\n          children: content\n        }, `square ${(l, c)}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(Knight, {\n          id: `${l}-${c}`\n        }, `square ${(l, c)}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 19\n        }, this))]\n      }, `linha ${l}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => play(initialPosition),\n        children: \"play\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Movements, {\n      children: movements.map(({\n        moveNumber,\n        square\n      }) => /*#__PURE__*/_jsxDEV(Move, {\n        children: `${moveNumber}° - ${square}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 50\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Board, \"k6JVOGTiOHX/XqCA1T/4EgFipuQ=\");\n\n_c = Board;\nexport default Board;\n\nvar _c;\n\n$RefreshReg$(_c, \"Board\");","map":{"version":3,"sources":["/home/rodrigo/rodrigoDeSouzaFernandes/projetos-pessoais/processo-seletivo-moodar/src/components/Board/index.js"],"names":["React","useState","getMatrixPosition","toLetter","resolveTour","BoardBody","Square","Line","Knight","Move","Movements","Body","Board","makeBoard","Array","fill","visited","knight","content","board","setBoard","initialPosition","setInitialPosition","line","column","movements","setMovements","setKnight","square","split","map","Number","console","log","newBoard","row","l","col","c","play","initSquare","squares","result","count","abc","moveKnight","push","moveNumber","length","clearInterval","myInterval","setInterval","_e","i","target","id"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { getMatrixPosition, toLetter } from '../../utils/convert';\nimport resolveTour from '../../utils/resolveTour';\n\nimport { BoardBody, Square, Line, Knight, Move, Movements, Body } from './styled'\n\n\nfunction Board() {\n  const makeBoard = Array(8).fill(Array(8).fill({visited: false, knight: false, content:''}))\n  const [board, setBoard] = useState(makeBoard);\n  const [initialPosition, setInitialPosition] = useState({line: 0, column: 0});\n  const [movements, setMovements] = useState([])\n\n  const setKnight = (square, content = '') => {\n    const [line, column] = square.split('-').map(Number);\n\n    console.log(content)\n    \n    const newBoard = board.map((row, l) => row\n    .map((col, c) => {\n      if (l == line && column == c) {\n        console.log('dentro do if', 'casa', c , l)\n        return {\n            knight: true,\n            visited: true,\n            content,\n          }\n      }\n      return {\n        ...col,\n        knight: false,\n      }\n    }\n    ))\n    setInitialPosition({line, column})\n    setBoard(newBoard)\n  }\n\n  const play = ({line, column}) => {\n    const initSquare = `${toLetter(column)}${line + 1}`;\n\n    const squares = resolveTour(initSquare)\n    const result = squares.map(getMatrixPosition)\n    console.log(result)\n    \n    let count = 0;\n    const abc = []\n\n    const  moveKnight = () => {\n      setKnight(result[count], count + 1);\n      abc.push({ moveNumber: count + 1, square: squares[count]})\n      setMovements(abc);\n      \n      if(count === result.length -1) clearInterval(myInterval);\n      else count += 1\n        \n    }\n    \n    const myInterval = setInterval( moveKnight , 500)\n  }\n\n  return (\n    <Body>\n      <BoardBody >\n        <div>\n          {Array(8).fill('').map((_e, i) => <p> {i} </p>)}\n        </div>\n        {board.map((line, l) => (\n          <Line key={`linha ${l}`}>\n            <p>{l + 1}</p>\n            {line.map(({knight, content}, c) => \n              !knight ? (\n                <Square\n                key={`square ${l, c}`}\n                id={`${l}-${c}`}\n                onClick={ ({target: {id}}) => setKnight(id) }\n                >\n                  {content}\n                </Square>\n                ) : (\n                  <Knight\n                  key={`square ${l, c}`}\n                  id={`${l}-${c}`}\n                  />\n                  ))}\n          </Line>))}\n          <button\n            onClick={ () => play(initialPosition) }\n            >\n            play\n          </button>\n      </BoardBody>\n      <Movements>\n        {movements.map(({moveNumber, square}) => <Move>{`${moveNumber}° - ${square}`}</Move>)}\n      </Movements>\n    </Body>\n  )\n}\n\nexport default Board;\n"]},"metadata":{},"sourceType":"module"}