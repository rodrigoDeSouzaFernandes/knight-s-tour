{"ast":null,"code":"var _jsxFileName = \"/home/rodrigo/rodrigoDeSouzaFernandes/projetos-pessoais/KightsTour/src/components/Board/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { getMatrixPosition, toLetter } from '../../utils/convert';\nimport resolveTour from '../../utils/resolveTour';\nimport { BoardBody, Square, Line, Knight, Move, Movements, Body, Columns, MovementsContainer, BtnPlay } from './styled';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Board() {\n  _s();\n\n  const makeBoard = Array(8).fill(Array(8).fill({\n    visited: false,\n    knight: false,\n    content: ''\n  }));\n  const [board, setBoard] = useState(makeBoard);\n  const [initialPosition, setInitialPosition] = useState({\n    line: 0,\n    column: 0\n  });\n  const [movements, setMovements] = useState([]);\n  const [playing, setPlaying] = useState(false);\n  const [reset, setReset] = useState(false);\n\n  const setKnight = (square, content = '') => {\n    const [line, column] = square.split('-').map(Number);\n    const newBoard = board.map((row, l) => row.map((col, c) => {\n      if (l == line && column == c) {\n        return {\n          content,\n          visited: true,\n          knight: true\n        };\n      }\n\n      ;\n      return { ...col,\n        knight: false\n      };\n    }));\n    setInitialPosition({\n      line,\n      column\n    });\n    setBoard(newBoard);\n  };\n\n  const play = ({\n    line,\n    column\n  }) => {\n    const initSquare = `${toLetter(column)}${line + 1}`;\n    const squares = resolveTour(initSquare);\n    const result = squares.map(getMatrixPosition);\n    let count = 0;\n    const allMoves = [];\n\n    const moveKnight = () => {\n      allMoves.push({\n        moveNumber: count + 1,\n        square: squares[count]\n      });\n      setMovements(allMoves);\n      setKnight(result[count], count + 1);\n\n      if (count === result.length - 1) {\n        clearInterval(myInterval);\n        setReset(true);\n      } else count += 1;\n    };\n\n    const myInterval = setInterval(moveKnight, 500);\n  };\n\n  const cleanBoard = () => {\n    setReset(false);\n    setBoard(makeBoard);\n    setMovements([]);\n    setInitialPosition({\n      line: 0,\n      column: 0\n    });\n    setPlaying(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Body, {\n    children: [/*#__PURE__*/_jsxDEV(BoardBody, {\n      children: [/*#__PURE__*/_jsxDEV(Columns, {\n        children: Array(8).fill('p').map((e, i) => /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\" \", toLetter(i), \" \"]\n        }, e + i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 45\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), board.map((line, l) => /*#__PURE__*/_jsxDEV(Line, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: l + 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this), line.map(({\n          knight,\n          content\n        }, c) => !knight ? /*#__PURE__*/_jsxDEV(Square, {\n          id: `${l}-${c}`,\n          onClick: ({\n            target: {\n              id\n            }\n          }) => setKnight(id),\n          children: content\n        }, `square ${(l, c)}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(Knight, {\n          id: `${l}-${c}`\n        }, `square ${(l, c)}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 19\n        }, this))]\n      }, `linha ${l}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this)), !playing ? /*#__PURE__*/_jsxDEV(BtnPlay, {\n        disabled: playing,\n        onClick: () => {\n          setPlaying(true);\n          play(initialPosition);\n        },\n        children: \"COME\\xC7AR\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(BtnPlay, {\n        disabled: !reset,\n        onClick: cleanBoard,\n        children: \"Limpar tabuleiro\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MovementsContainer, {\n      children: /*#__PURE__*/_jsxDEV(Movements, {\n        children: movements.map(({\n          moveNumber,\n          square\n        }) => /*#__PURE__*/_jsxDEV(Move, {\n          children: `${moveNumber}° - ${square}`\n        }, `${moveNumber}${square}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Board, \"OSedXKq89J/GMNiFLUO21L1IJk4=\");\n\n_c = Board;\nexport default Board;\n\nvar _c;\n\n$RefreshReg$(_c, \"Board\");","map":{"version":3,"sources":["/home/rodrigo/rodrigoDeSouzaFernandes/projetos-pessoais/KightsTour/src/components/Board/index.js"],"names":["React","useState","getMatrixPosition","toLetter","resolveTour","BoardBody","Square","Line","Knight","Move","Movements","Body","Columns","MovementsContainer","BtnPlay","Board","makeBoard","Array","fill","visited","knight","content","board","setBoard","initialPosition","setInitialPosition","line","column","movements","setMovements","playing","setPlaying","reset","setReset","setKnight","square","split","map","Number","newBoard","row","l","col","c","play","initSquare","squares","result","count","allMoves","moveKnight","push","moveNumber","length","clearInterval","myInterval","setInterval","cleanBoard","e","i","target","id"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { getMatrixPosition, toLetter } from '../../utils/convert';\nimport resolveTour from '../../utils/resolveTour';\n\nimport { BoardBody, Square, Line, Knight, Move,\n  Movements, Body, Columns, MovementsContainer, BtnPlay } from './styled'\n\n\nfunction Board() {\n  const makeBoard = Array(8).fill(Array(8).fill({visited: false, knight: false, content:''}))\n  const [board, setBoard] = useState(makeBoard);\n  const [initialPosition, setInitialPosition] = useState({line: 0, column: 0});\n  const [movements, setMovements] = useState([])\n  const [playing, setPlaying] = useState(false);\n  const [reset, setReset] = useState(false);\n\n  const setKnight = (square, content = '') => {\n    const [line, column] = square.split('-').map(Number);\n    \n    const newBoard = board.map((row, l) => row\n    .map((col, c) => {\n      \n      if (l == line && column == c) {\n        return {\n          content,\n          visited: true,\n          knight: true,\n          };\n      };\n      return {\n        ...col,\n        knight: false,\n      };\n    }));\n\n    setInitialPosition({line, column});\n    setBoard(newBoard);\n  }\n\n  const play = ({line, column}) => {\n    const initSquare = `${toLetter(column)}${line + 1}`;\n\n    const squares = resolveTour(initSquare);\n    const result = squares.map(getMatrixPosition);\n    \n    let count = 0;\n    const allMoves = [];\n\n    const  moveKnight = () => {\n      allMoves.push({ moveNumber: count + 1, square: squares[count]});\n      setMovements(allMoves);\n      setKnight(result[count], count + 1);\n      \n      if(count === result.length -1) {\n        clearInterval(myInterval);\n        setReset(true);\n      }\n      else count += 1;\n        \n    }\n\n    const myInterval = setInterval( moveKnight , 500);\n  };\n\n  const cleanBoard = () => {\n    setReset(false);\n    setBoard(makeBoard);\n    setMovements([]);\n    setInitialPosition({line: 0, column: 0});\n    setPlaying(false);\n  };\n\n  return (\n    <Body>\n      <BoardBody >\n        <Columns>\n          {Array(8).fill('p').map((e, i) => <p key={e + i}> {toLetter(i)} </p>)}\n        </Columns>\n        {board.map((line, l) => (\n          <Line key={`linha ${l}`}>\n            <p>{l + 1}</p>\n            {line.map(({knight, content}, c) => \n              !knight ? (\n                <Square\n                key={`square ${l, c}`}\n                id={`${l}-${c}`}\n                onClick={ ({target: {id}}) => setKnight(id) }\n                >\n                  {content}\n                </Square>\n                ) : (\n                  <Knight\n                  key={`square ${l, c}`}\n                  id={`${l}-${c}`}\n                  />\n                  ))}\n          </Line>))}\n          {!playing ? (\n          <BtnPlay\n            disabled={playing}\n            onClick={ () => {\n              setPlaying(true);\n              play(initialPosition);\n            } }\n            >\n            COMEÇAR\n          </BtnPlay>\n          ) : (\n          <BtnPlay\n            disabled={!reset}\n            onClick={ cleanBoard }\n          >\n          Limpar tabuleiro\n          </BtnPlay>\n          )}\n      </BoardBody>\n      <MovementsContainer>\n        <Movements>\n          {movements.map(\n            ({moveNumber, square}) => (\n            <Move key={`${moveNumber}${square}`}>\n              {`${moveNumber}° - ${square}`}\n            </Move>))}\n        </Movements>\n      </MovementsContainer>\n    </Body>\n  )\n}\n\nexport default Board;\n"]},"metadata":{},"sourceType":"module"}